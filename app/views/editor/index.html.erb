<div class="container" data-ng-controller='ApplicationController'>
  <div id="editor" data-ng-controller='EditorController'><%= render 'code' %></div>

  <div id="preview" data-ng-controller='PreviewController' ng-bind-html-unsafe="value">
  </div>

  <div id="browser" data-ng-controller='BrowserController'>
    <ul>
      <li ng-repeat="file in files" ng-click="$emit('fileSelected', file)">
        <span>{{file.name}}</span>
        <span>{{file.size}}</span>
        <span>{{file.updated}}</span>
      </li>
    </ul>
  </div>

  <div id="menu-button" ng-click="$emit('toggleBrowser')">
    <a href="#" >
      <i class='icon-tasks icon-white'></i>
    </a>
  </div>
</div>

<script>
  auth_token = '<%= "#{@current_user[:auth_token]}" %>';
</script>
<%= javascript_include_tag 'lib/ace-builds/src-noconflict/ace' %>
<%= javascript_include_tag 'editor/editor' %>
